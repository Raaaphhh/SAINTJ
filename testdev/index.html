<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Saint - J</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      background-color: #121212;
      color: white;
    }

    header {
      width: 100%;
      background-color: #1a1a1a;
      padding: 20px;
      text-align: center;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 10;
    }

    .slideshow {
      position: relative;
      width: 80%;
      max-width: 600px;
      overflow: hidden;
      border-radius: 10px;
      margin-top: 150px;
    }

    .slides {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }

    .slide {
      min-width: 100%;
      transition: opacity 1s ease;
    }

    .slide img {
      width: 100%;
      height: auto;
      border-radius: 10px;
    }

    footer{
      position: fixed;
      bottom: 0;
      width: 100%;
      background-color: #1a1a1a;
      padding: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
  <header>
    <h1>Saint - J</h1>
    <a href="#"><button>Inscription</button></a>
    <a href="#"><button>Connexion</button></a>
  </header>
  <div class="slideshow" id="slideshow">
    <div class="slides">
      <div class="slide"><img src="IMG_0034.JPEG" alt="Photo 1"></div>
      <div class="slide"><img src="IMG_8140.JPG" alt="Photo 2"></div>
      <div class="slide"><img src="IMG_9880.JPEG" alt="Photo 3"></div>
      <!-- Ajoutez autant de photos que vous souhaitez -->
    </div>
  </div>
  <script>
    const slideshow = document.getElementById('slideshow');
    const slides = document.querySelector('.slides');
    const totalSlides = document.querySelectorAll('.slide').length;
    let isDragging = false;
    let startPos = 0;
    let currentTranslate = 0;
    let prevTranslate = 0;
    let animationID;
    let currentIndex = 0;
    let autoSlideInterval;

    slideshow.addEventListener('mousedown', startDrag);
    slideshow.addEventListener('mouseup', endDrag);
    slideshow.addEventListener('mousemove', drag);
    slideshow.addEventListener('mouseleave', endDrag);

    slideshow.addEventListener('touchstart', startDrag);
    slideshow.addEventListener('touchend', endDrag);
    slideshow.addEventListener('touchmove', drag);

    function startDrag(event) {
      isDragging = true;
      startPos = getPositionX(event);
      animationID = requestAnimationFrame(animation);
      clearInterval(autoSlideInterval); // Stop auto-slide when dragging starts
    }

    function endDrag() {
      isDragging = false;
      cancelAnimationFrame(animationID);
      const movedBy = currentTranslate - prevTranslate;

      if (movedBy < -100 && currentIndex < totalSlides - 1) currentIndex += 1;
      if (movedBy > 100 && currentIndex > 0) currentIndex -= 1;

      setPositionByIndex();
      startAutoSlide(); // Restart auto-slide after drag ends
    }

    function drag(event) {
      if (isDragging) {
        const currentPosition = getPositionX(event);
        currentTranslate = prevTranslate + currentPosition - startPos;
      }
    }

    function getPositionX(event) {
      return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
    }

    function animation() {
      setSliderPosition();
      if (isDragging) requestAnimationFrame(animation);
    }

    function setSliderPosition() {
      slides.style.transform = `translateX(${currentTranslate}px)`;
    }

    function setPositionByIndex() {
      currentTranslate = currentIndex * -slideshow.offsetWidth;
      prevTranslate = currentTranslate;
      setSliderPosition();
    }

    function startAutoSlide() {
      autoSlideInterval = setInterval(() => {
        currentIndex = (currentIndex + 1) % totalSlides;
        setPositionByIndex();
      }, 4234); // Change slide every 3 seconds
    }

    // Start auto-slide on page load
    startAutoSlide();
  </script>
</body>
<footer>
  <p>SAINT - J, Tout droit Réservé, 2025</p>
</footer>
</html>
